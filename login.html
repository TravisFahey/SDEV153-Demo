<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign in — Gaming Events</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="site.css">

  <style>
    .signin-card { max-width: 420px; }
  </style>
</head>
<body class="d-flex flex-column min-vh-100">
  <header>
    <nav class="navbar navbar-expand-sm navbar-light bg-white shadow-sm" aria-label="Primary">
      <div class="container">
        <a class="navbar-brand" href="/" aria-label="Gaming Events — Home">
          <i class="fa-solid fa-gamepad" aria-hidden="true"></i>
          <span class="brand-text">Gaming Events</span>
        </a>

        <button class="navbar-toggler" type="button"
                data-bs-toggle="collapse"
                data-bs-target="#mainNav"
                aria-controls="mainNav"
                aria-expanded="false"
                aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" href="index.html" aria-current="page">Home</a>
            </li>
            <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
            <li class="nav-item"><a class="nav-link" href="manage.html">Manage</a></li>
            <li class="nav-item"><a class="nav-link" href="login.html">Account</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main id="main-content" class="flex-grow-1 d-flex align-items-center py-5" role="main">
    <div class="container d-flex justify-content-center">
      <div class="card shadow-sm signin-card w-100">
        <div class="card-body p-4 p-md-5">
          <h1 class="h3 mb-3">Sign in</h1>
          <p class="text-muted mb-4">Access your account to post and manage events.</p>

          <div id="form-status" class="mb-3" role="status" aria-live="polite"></div>

          <form id="loginForm" novalidate aria-describedby="signin-help">
            <p id="signin-help" class="visually-hidden">All fields are required. Use your email address and password to sign in.</p>

            <div class="mb-3">
              <label for="email" class="form-label required">Email address</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                required
                autocomplete="email"
                inputmode="email"
                aria-describedby="email-hint email-error"
                placeholder="john.doe@website.com"
              >
              <div id="email-hint" class="form-text">Use the email you registered with.</div>
              <div id="email-error" class="field-error" role="alert"></div>
            </div>

            <div class="mb-3">
              <label for="password" class="form-label required">Password</label>
              <div class="input-group">
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  required
                  minlength="8"
                  autocomplete="current-password"
                  aria-describedby="password-hint password-error"
                  placeholder="********"
                >
                <button type="button" class="btn btn-outline-secondary" id="togglePassword"
                        aria-controls="password" aria-pressed="false">
                  <span class="d-inline-flex align-items-center gap-2">
                    <i class="fa-regular fa-eye" aria-hidden="true"></i>
                    <span>Show</span>
                  </span>
                </button>
              </div>
              <div id="password-hint" class="form-text">Minimum 8 characters.</div>
              <div id="password-error" class="field-error" role="alert"></div>
            </div>

            <div class="d-flex justify-content-between align-items-center mb-3">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="true" id="remember" name="remember" autocomplete="on">
                <label class="form-check-label" for="remember">Remember me</label>
              </div>
            </div>

            <button type="submit" class="btn btn-primary w-100" aria-label="Sign in to your Gaming Events account">Sign in</button>
          </form>
        </div>
      </div>
    </div>
  </main>

  <footer class="mt-auto bg-purple text-white border-top-0" role="contentinfo">
    <div class="container py-3 text-center">
      <div class="mb-2">
        <a href="https://twitter.com" target="_blank" rel="noopener"
          class="text-white fs-4 me-3" aria-label="Twitter">
          <i class="fab fa-x-twitter"></i>
        </a>
        <a href="https://facebook.com" target="_blank" rel="noopener"
          class="text-white fs-4 me-3" aria-label="Facebook">
          <i class="fab fa-facebook"></i>
        </a>
        <a href="https://twitch.tv" target="_blank" rel="noopener"
          class="text-white fs-4 me-3" aria-label="Twitch">
          <i class="fab fa-twitch"></i>
        </a>
        <a href="https://youtube.com" target="_blank" rel="noopener"
          class="text-white fs-4" aria-label="YouTube">
          <i class="fab fa-youtube"></i>
        </a>
      </div>
      <div class="small">
        &copy; 2025 - Gaming Events
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Password visibility toggle with accessible state
    (function () {
      const toggleBtn = document.getElementById('togglePassword');
      const pwd = document.getElementById('password');
      toggleBtn.addEventListener('click', () => {
        const isText = pwd.type === 'text';
        pwd.type = isText ? 'password' : 'text';
        toggleBtn.setAttribute('aria-pressed', String(!isText));
        const icon = toggleBtn.querySelector('i');
        const label = toggleBtn.querySelector('span span');
        if (isText) {
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
          label.textContent = 'Show';
        } else {
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
          label.textContent = 'Hide';
        }
      });
    })();

    // Client-side validation using Constraint Validation API with ARIA feedback
    (function () {
      const form = document.getElementById('loginForm');
      const email = document.getElementById('email');
      const password = document.getElementById('password');
      const emailError = document.getElementById('email-error');
      const passwordError = document.getElementById('password-error');
      const status = document.getElementById('form-status');

      function showFieldError(input, msgEl, message) {
        input.classList.add('is-invalid');
        input.setAttribute('aria-invalid', 'true');
        msgEl.textContent = message;
      }
      function clearFieldError(input, msgEl) {
        input.classList.remove('is-invalid');
        input.removeAttribute('aria-invalid');
        msgEl.textContent = '';
      }

      function validateEmail() {
        if (email.value.trim() === '') {
          showFieldError(email, emailError, 'Email is required.');
          return false;
        }
        if (!email.checkValidity()) {
          showFieldError(email, emailError, 'Enter a valid email address.');
          return false;
        }
        clearFieldError(email, emailError);
        return true;
      }

      function validatePassword() {
        if (password.value.trim() === '') {
          showFieldError(password, passwordError, 'Password is required.');
          return false;
        }
        if (password.value.length < 8) {
          showFieldError(password, passwordError, 'Password must be at least 8 characters.');
          return false;
        }
        clearFieldError(password, passwordError);
        return true;
      }

      email.addEventListener('input', validateEmail);
      password.addEventListener('input', validatePassword);

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const ok = validateEmail() & validatePassword();
        if (!ok) {
          status.textContent = 'Please fix the errors in the form and try again.';
          return;
        }

        // Replace with real submission. Here we only show success for demo.
        status.textContent = 'Signing in…';

        // Simulate async completion so screen readers announce status changes.
        setTimeout(() => {
          status.textContent = 'Signed in successfully.';
          // Example redirect:
          // window.location.href = '/';
        }, 500);
      });
    })();
  </script>
</body>
</html>